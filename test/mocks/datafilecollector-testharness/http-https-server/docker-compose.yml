version: '3'

services:

  http-https-server:
    container_name: http-https-server-httpd
    image: httpd:alpine
    environment:
      APACHE_LOG_DIR: /usr/local/apache2/logs
    ports:
      - "80:80"
      - "443:443"
      - "8080:8080"
    volumes:
      - ./apache2/conf/.htpasswd:/usr/local/apache2/conf/.htpasswd:ro
      - ./apache2/conf/httpd.conf:/usr/local/apache2/conf/httpd.conf:ro
      - ./apache2/conf/extra/httpd-ssl.conf:/usr/local/apache2/conf/extra/httpd-ssl.conf:ro
      - ./../certservice/generated/apache-certs:/usr/local/apache2/certs:ro
      - ./files/onap/http:/usr/local/apache2/htdocs
    restart: on-failure
